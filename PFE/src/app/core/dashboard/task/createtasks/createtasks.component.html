<form [formGroup]="ticketTaskForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="subject">Identifiant Intervention : {{ticketId}}</label>
    <label for="subject">Technicien : {{username}}</label>
  </div>
  <div class="form-group">
    <label for="subject">Sujet</label>
    <input id="subject" formControlName="subject" type="text" pInputText />
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea id="description" formControlName="description" pInputTextarea></textarea>
  </div>

  <!-- Ajout de la case à cocher pour le changement de statut -->
  <div class="form-group">
    <label>
      <input type="checkbox" formControlName="changeStatus"> Changer le statut
    </label>
  </div>

  <!-- Affichage conditionnel du dropdown pour le statut -->
  <div class="form-group" *ngIf="ticketTaskForm.get('changeStatus').value">
    <label for="statusCodeID">Nouveau Statut</label>
    <p-dropdown
      [options]="statusOptions"
      formControlName="statusCodeID"
      optionLabel="label"
      placeholder="Sélectionner un nouveau statut"
    ></p-dropdown>
  </div>

  <div class="form-buttons">
    <button pButton type="submit" label="Enregistrer"></button>
    <button pButton type="button" label="Annuler" class="p-button-secondary" (click)="onCancel()"></button>
  </div>
</form>
